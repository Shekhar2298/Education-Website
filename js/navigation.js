class Navigation{constructor(){this.mobileMenuBtn=document.getElementById("mobileMenuBtn"),this.mainNav=document.getElementById("mainNav"),this.navLinks=document.querySelectorAll("nav a"),this.sections=document.querySelectorAll("section"),this.init()}init(){this.mobileMenuBtn&&this.mobileMenuBtn.addEventListener("click",()=>this.toggleMobileMenu()),this.navLinks.forEach(t=>{t.addEventListener("click",t=>this.handleNavClick(t))}),window.addEventListener("scroll",()=>this.updateActiveNav()),document.addEventListener("click",t=>this.handleClickOutside(t))}toggleMobileMenu(){this.mainNav.classList.toggle("active"),this.mobileMenuBtn.innerHTML=this.mainNav.classList.contains("active")?"✕":"☰"}handleNavClick(t){t.preventDefault();let e=this.getAttribute("href");if("#"===e||!e.startsWith("#"))return;let i=document.querySelector(e);i&&(this.mainNav.classList.contains("active")&&this.toggleMobileMenu(),this.scrollToElement(i))}scrollToElement(t){let e=document.querySelector("header").offsetHeight,i=t.offsetTop-e-20;window.scrollTo({top:i,behavior:"smooth"})}updateActiveNav(){let t=window.scrollY+100;this.sections.forEach(e=>{let i=e.offsetTop,s=e.clientHeight,n=e.getAttribute("id");t>=i&&t<i+s&&this.setActiveNav(n)})}setActiveNav(t){this.navLinks.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}handleClickOutside(t){!this.mainNav.contains(t.target)&&!this.mobileMenuBtn.contains(t.target)&&this.mainNav.classList.contains("active")&&this.toggleMobileMenu()}}document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();let e=this.getAttribute("href");if("#"===e)return;let i=document.querySelector(e);if(i){let s=document.querySelector("header").offsetHeight,n=i.offsetTop-s-20;window.scrollTo({top:n,behavior:"smooth"})}})}),document.addEventListener("DOMContentLoaded",()=>{new Navigation});